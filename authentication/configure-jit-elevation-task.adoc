---
permalink: authentication/configure-jit-elevation-task.html 
sidebar: sidebar 
keywords: just in time, just-in-time, privilege elevation, password, security, authentication, JIT, elevation 
summary: Configure la elevación de privilegios justo a tiempo para permitir que los usuarios de ONTAP eleven temporalmente sus privilegios para realizar determinadas tareas. 
---
= Configurar la elevación de privilegios JIT en ONTAP
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
A partir de ONTAP 9.17.1, los administradores de clústeres pueden configurar la elevación de privilegios Just-In-Time (JIT) para permitir que los usuarios de ONTAP eleven temporalmente sus privilegios para realizar ciertas tareas. Cuando se configura JIT para un usuario, este puede... link:elevate-jit-access-task.html["elevar sus privilegios"] A un rol con los permisos necesarios para realizar una tarea. Una vez finalizada la sesión, el usuario recupera su nivel de acceso original.

Los administradores de clústeres pueden configurar el tiempo durante el cual un usuario puede acceder a la elevación JIT. Por ejemplo, se puede configurar el acceso de los usuarios a la elevación JIT con un límite de 30 minutos por sesión (el _período de validez de la sesión_) durante un período de 30 días (el _período de validez de la sesión_). Durante este período, el usuario puede elevar sus privilegios tantas veces como necesite, pero cada sesión está limitada a 30 minutos.

La elevación de privilegios JIT se basa en el principio de privilegios mínimos, lo que permite a los usuarios realizar tareas que requieren privilegios elevados sin que se les otorguen permanentemente. Esto ayuda a reducir el riesgo de acceso no autorizado o cambios accidentales en el sistema. Los siguientes ejemplos describen algunos casos de uso comunes para la elevación de privilegios JIT:

* Permitir acceso temporal a la  `security login create` y  `security login delete` Comandos para habilitar la incorporación y salida de usuarios.
* Permitir acceso temporal a  `system node image update` y  `system node upgrade-revert` Durante una ventana de actualización. Una vez completada la actualización, se revoca el acceso al comando.
* Permitir acceso temporal a  `cluster add-node` ,  `cluster remove-node` , y  `cluster modify` Para habilitar la expansión o reconfiguración del clúster. Una vez completados los cambios en el clúster, se revoca el acceso a los comandos.
* Permitir acceso temporal a  `volume snapshot restore` Para habilitar las operaciones de restauración y la gestión de destinos de copia de seguridad. Una vez completada la restauración o configuración, se revoca el acceso a los comandos.
* Permitir acceso temporal a  `security audit log show` para permitir la revisión y exportación del registro de auditoría durante una verificación de cumplimiento.


Consulte la  https://docs.netapp.com/us-en/ontap-cli/["Referencia de comandos del ONTAP"^] Para obtener más información sobre los comandos de estos ejemplos, consulte <<Casos de uso comunes de JIT>> .

Los administradores de clúster pueden configurar el acceso JIT para los usuarios de ONTAP y configurar los períodos de validez JIT predeterminados a nivel global en el clúster o para SVM específicos.

.Acerca de esta tarea
* La elevación de privilegios JIT solo está disponible para usuarios que acceden a ONTAP mediante SSH. Estos privilegios solo están disponibles dentro de la sesión SSH actual del usuario, pero pueden elevarse en tantas sesiones SSH simultáneas como sea necesario.
* La elevación de privilegios JIT solo es compatible con usuarios que usan contraseña, nsswitch o autenticación de dominio para iniciar sesión. La autenticación multifactor (MFA) no es compatible con la elevación de privilegios JIT.


.Antes de empezar
* Debe ser un administrador del clúster ONTAP en el  `admin` nivel de privilegio para realizar las siguientes tareas.




== Modificar la configuración global de JIT

Puede modificar la configuración JIT predeterminada globalmente en todo el clúster de ONTAP o para una SVM específica. Esta configuración determina el periodo de validez de la sesión predeterminado y el periodo máximo de validez JIT para los usuarios configurados para el acceso JIT.

.Acerca de esta tarea
* El valor predeterminado  `default-session-validity-period` El valor es de una hora. Esta configuración determina durante cuánto tiempo un usuario puede acceder a privilegios elevados en una sesión JIT antes de tener que volver a elevarlos.
* El valor predeterminado  `max-jit-validity-period` El valor es de 90 días. Esta configuración determina el periodo máximo durante el cual un usuario puede acceder a la elevación JIT después de la fecha de inicio configurada. Puede configurar el periodo de validez de JIT para usuarios individuales, pero no puede superar el periodo máximo de validez de JIT.


.Pasos
. Compruebe la configuración JIT actual:
+
[source, cli]
----
security jit-privilege show -vserver <svm_name>
----
+
`-vserver` Es opcional. Si no se especifica una SVM, el comando muestra la configuración JIT global.

. Modificar la configuración JIT globalmente o para un SVM:
+
[source, cli]
----
security jit-privilege modify -vserver <svm_name> -default-session-validity-period <period> -max-jit-validity-period <period>
----
+
Si no se especifica una SVM, el comando modifica la configuración global de JIT. El siguiente ejemplo establecerá la duración predeterminada de la sesión JIT en 45 minutos y la duración máxima en 30 días para SVM.  `svm1` : + 
`security jit-privilege modify -vserver svm1 -default-session-validity-period 45m -max-jit-validity-period 30d`

+
En este ejemplo, los usuarios podrán acceder a la elevación JIT durante 45 minutos a la vez y podrán iniciar sesiones JIT durante un máximo de 30 días después de su fecha de inicio configurada.





== Configurar el acceso de elevación de privilegios JIT para un usuario

Puede asignar acceso de elevación de privilegios JIT a los usuarios de ONTAP .

.Pasos
. Comprobar el acceso JIT actual de un usuario:
+
[source, cli]
----
security jit-privilege user show -username <username>
----
+
`-username` Es opcional. Si no se especifica un nombre de usuario, el comando muestra el acceso JIT para todos los usuarios.

. Asignar nuevo acceso JIT para un usuario:
+
[source, cli]
----
security jit-privilege create -username <username> -vserver <svm_name> -role <rbac_role> -session-validity-period <period> -jit-validity-period <period> -start-time <date>
----
+
** Si  `-vserver` no se especifica, el acceso JIT se asigna a nivel de clúster.
**  `-role` es el rol RBAC al que se elevará el usuario. Si no se especifica,  `-role` El valor predeterminado es  `admin` .
** `-session-validity-period` Es el tiempo durante el cual el usuario puede acceder al rol elevado antes de tener que iniciar una nueva sesión JIT. Si no se especifica, el valor global o SVM  `default-session-validity-period` se utiliza
** `-jit-validity-period` es la duración máxima durante la cual un usuario puede iniciar sesiones JIT después de la fecha de inicio configurada. Si no se especifica,  `session-validity-period` Se utiliza. Este parámetro no puede exceder el valor global o SVM.  `max-jit-validity-period` .
** `-start-time` Es la fecha y hora a partir de las cuales el usuario puede iniciar sesiones JIT. Si no se especifica, se utiliza la fecha y hora actuales.
+
El siguiente ejemplo permitirá  `ontap_user` para acceder a la  `admin` rol durante 1 hora antes de tener que iniciar una nueva sesión JIT.  `ontap_user` Podrán iniciar sesiones JIT por un período de 60 días a partir de la 1:00 p. m. del 1 de julio de 2025: + 
`security jit-privilege user create -username ontap_user -role admin -session-validity-period 1h -jit-validity-period 60d -start-time "7/1/25 13:00:00"`



. Si es necesario, revoque el acceso JIT de un usuario:
+
[source, cli]
----
security jit-privilege user delete -username <username> -vserver <svm_name>
----
+
Este comando revocará el acceso JIT de un usuario, incluso si su acceso no ha expirado. Si  `-vserver` Si no se especifica, el acceso JIT se revoca a nivel de clúster. Si el usuario está en una sesión JIT activa, esta se cerrará.





== Casos de uso comunes de JIT

La siguiente tabla contiene casos de uso comunes para la elevación de privilegios JIT. Para cada caso, se debe configurar un rol RBAC para proporcionar acceso a los comandos relevantes. Cada comando enlaza con la referencia de comandos de ONTAP , con más información sobre el comando y sus parámetros.

[cols="1,1a,1"]
|===
| Caso de uso | Comandos | Detalles 


| Gestión de usuarios y roles  a| 
link:https://docs.netapp.com/us-en/ontap-cli/security-login-create.html["seguridad de inicio de sesión creado"] , link:https://docs.netapp.com/us-en/ontap-cli/security-login-delete.html["7a414cbc26ad99f3f688affc1ecabe6f"]
| Elevar temporalmente para agregar o eliminar usuarios o cambiar roles durante la incorporación o salida. 


| Gestión de certificados  a| 
link:https://docs.netapp.com/us-en/ontap-cli/security-certificate-create.html["9ea06376db2d229da0b3a4c13ce61404"] , link:https://docs.netapp.com/us-en/ontap-cli/security-certificate-install.html["instalación del certificado de seguridad"]
| Otorgar acceso a corto plazo para la instalación o renovación del certificado. 


| Control de acceso SSH/CLI  a| 
`link:https://docs.netapp.com/us-en/ontap-cli/security-login-create.html[security login create] -application ssh`
| Otorgar acceso SSH temporalmente para resolución de problemas o soporte del proveedor. 


| Gestión de licencias  a| 
link:https://docs.netapp.com/us-en/ontap-cli/system-license-add.html["6c25ae7b27db9a62b5c245ad70b9d7cc"] , link:https://docs.netapp.com/us-en/ontap-cli/system-license-delete.html["5f3eb0e0b3c2143bc24467a3ed94289e"]
| Otorgar derechos para agregar o eliminar licencias durante la activación o desactivación de funciones. 


| Actualizaciones y parches del sistema  a| 
link:https://docs.netapp.com/us-en/ontap-cli/system-node-image-update.html["actualización de la imagen del nodo del sistema"] , link:https://docs.netapp.com/us-en/ontap-cli/system-node-upgrade-revert-upgrade.html["3375ab72573f54f214f0e7b4b9759e15"]
| Elevar durante la ventana de actualización y luego revocar. 


| Configuración de seguridad de red  a| 
link:https://docs.netapp.com/us-en/ontap-cli/security-login-role-create.html["seguridad rol de inicio de sesión crear"] , link:https://docs.netapp.com/us-en/ontap-cli/security-login-role-modify.html["c44e895fab96f3c7a61edd2ebae0fd59"]
| Permitir cambios temporales en los roles de seguridad relacionados con la red. 


| Gestión de clústeres  a| 
link:https://docs.netapp.com/us-en/ontap-cli/cluster-add-node.html["nodo adicional del clúster"] , link:https://docs.netapp.com/us-en/ontap-cli/cluster-remove-node.html["cluster remove-node"] , link:https://docs.netapp.com/us-en/ontap-cli/cluster-modify.html["modificar el clúster"]
| Elevate para expansión o reconfiguración del clúster. 


| Gestión de SVM  a| 
link:https://docs.netapp.com/us-en/ontap-cli/vserver-create.html["creación de vserver"] , link:https://docs.netapp.com/us-en/ontap-cli/vserver-delete.html["a75eb9196380a98a2a2a693496267088"] , link:https://docs.netapp.com/us-en/ontap-cli/vserver-modify.html["modificación de vserver"]
| Otorgar temporalmente derechos de administrador a un SVM para aprovisionamiento o desmantelamiento. 


| Gestión del volumen  a| 
link:https://docs.netapp.com/us-en/ontap-cli/volume-create.html["cree el volumen"] , link:https://docs.netapp.com/us-en/ontap-cli/volume-delete.html["eliminar el volumen"] , link:https://docs.netapp.com/us-en/ontap-cli/volume-modify.html["modificación del volumen"]
| Elevate para aprovisionamiento, cambio de tamaño o eliminación de volumen. 


| Gestión de instantáneas  a| 
link:https://docs.netapp.com/us-en/ontap-cli/volume-snapshot-create.html["ceb6830d4a1748af1adc615d6239b127"] , link:https://docs.netapp.com/us-en/ontap-cli/volume-snapshot-delete.html["1cf71c15916b07b46dc8360baf4bd9d5"] , link:https://docs.netapp.com/us-en/ontap-cli/volume-snapshot-restore.html["8f381ba1024744332b561ba609495012"]
| Elevar para eliminar o restaurar instantáneas durante la recuperación. 


| Configuración de red  a| 
link:https://docs.netapp.com/us-en/ontap-cli/network-interface-create.html["8e4b4cb9c44fdee9551da126fb754f8a"] , link:https://docs.netapp.com/us-en/ontap-cli/network-port-vlan-create.html["733be7dba8f13ff258d7f73e2740324c"]
| Otorgar derechos para realizar cambios en la red durante las ventanas de mantenimiento. 


| Gestión de discos/agregados  a| 
link:https://docs.netapp.com/us-en/ontap-cli/storage-disk-assign.html["3c698d76925a2f101122edd72990fc94"] , link:https://docs.netapp.com/us-en/ontap-cli/storage-aggregate-create.html["1b40ef6e34df7d2fb54b5d639e14412d"] , link:https://docs.netapp.com/us-en/ontap-cli/storage-aggregate-add-disks.html["be260f7e87b5ae56c1d81f359067a35f"]
| Elevate para agregar o quitar discos o administrar agregados. 


| Protección de datos  a| 
link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-create.html["snapmirror create"] , link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-modify.html["modificar snapmirror"] , link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-restore.html["restauración de snapmirror"]
| Elevar temporalmente para configurar o restaurar relaciones de SnapMirror . 


| Ajuste del rendimiento  a| 
link:https://docs.netapp.com/us-en/ontap-cli/qos-policy-group-create.html["creación de grupo de políticas de calidad de servicio"] , link:https://docs.netapp.com/us-en/ontap-cli/qos-policy-group-modify.html["92e30cc5fff2e2aead2254497baabf90"]
| Elevate para solucionar problemas de rendimiento o realizar ajustes. 


| Acceso al registro de auditoría  a| 
link:https://docs.netapp.com/us-en/ontap-cli/security-audit-log-show.html["8886c6249c30eca960ab30fed3c6746b"]
| Elevar temporalmente para revisión o exportación del registro de auditoría durante las verificaciones de cumplimiento. 


| Gestión de eventos y alertas  a| 
link:https://docs.netapp.com/us-en/ontap-cli/event-notification-create.html["64b1a654c15b96443ae00ee82d8ea7ad"] , link:https://docs.netapp.com/us-en/ontap-cli/event-notification-modify.html["3289b87193da03bd8309fc4b2ea2e02e"]
| Elevate para configurar o probar notificaciones de eventos o trampas SNMP. 


| Acceso a datos impulsado por el cumplimiento  a| 
link:https://docs.netapp.com/us-en/ontap-cli/volume-show.html["visualización de volumen"] , link:https://docs.netapp.com/us-en/ontap-cli/security-audit-log-show.html["8886c6249c30eca960ab30fed3c6746b"]
| Otorgar acceso temporal de solo lectura a los auditores para revisar datos o registros confidenciales. 


| Reseñas de acceso privilegiado  a| 
link:https://docs.netapp.com/us-en/ontap-cli/security-login-show.html["025c83c1a746b39471a98aa72befe950"] , link:https://docs.netapp.com/us-en/ontap-cli/security-login-role-show.html["c964d7ae2ca92e255e3199e128824eb9"]
| Elevar temporalmente para revisar e informar sobre el acceso privilegiado. Otorgar acceso elevado de solo lectura por tiempo limitado. 
|===