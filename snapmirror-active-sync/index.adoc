---
sidebar: sidebar 
permalink: snapmirror-active-sync/index.html 
keywords: SM-BC, SMBC, failover, terms, benefits, snapmirror active sync, TR-4878 
summary: Utilice la sincronización activa de SnapMirror para proteger las aplicaciones con LUN, lo cual permite que las aplicaciones realicen conmutaciones al respaldo de forma transparente, lo que garantiza la continuidad del negocio en caso de desastre. 
---
= Obtenga más información sobre la sincronización activa de ONTAP SnapMirror
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
La sincronización activa de SnapMirror , también conocida como SnapMirror Business Continuity (SM-BC), permite que los servicios comerciales sigan funcionando en caso de una falla total del sitio.  Esta tecnología permite que las aplicaciones conmuten sin problemas a una copia secundaria sin intervención manual ni secuencias de comandos personalizadas.

NetApp SnapMirror active sync (SM-as) está diseñado para ser una protección a nivel de aplicación más granular, de menor costo y más fácil de usar con conmutación por error automática.  La sincronización activa de SnapMirror permite que los servicios empresariales de misión crítica sigan funcionando, incluso durante una falla total del sitio.  Con la sincronización activa de SnapMirror , ahora puede replicar de forma sincrónica múltiples volúmenes de una aplicación (agregándolos a un grupo de consistencia) entre sitios en ubicaciones geográficamente dispersas.  Puede conmutar automáticamente por error a la copia secundaria en caso de interrupción de la copia principal, lo que permite la continuidad del negocio para las aplicaciones de nivel uno.

Las regulaciones para las instituciones financieras en algunos países requieren que las empresas brinden servicio periódicamente desde sus centros de datos secundarios.  La sincronización activa de SnapMirror , con sus clústeres de alta disponibilidad, permite estas conmutaciones de centros de datos para la continuidad del negocio.

Disponible a partir de ONTAP 9.9.1, la sincronización activa de SnapMirror es compatible con clústeres AFF y All-Flash SAN Array (ASA).  Los clústeres primarios y secundarios deben ser del mismo tipo: ASA, ASA r2 o AFF.  La sincronización activa de SnapMirror protege las aplicaciones con LUN iSCSI o FCP o espacios de nombres NVMe.

La sincronización activa de SnapMirror admite configuraciones simétricas y asimétricas.  El soporte para activo/activo simétrico se introdujo en ONTAP 9.15.1.  La configuración activa/activa simétrica permite que ambas copias de un LUN protegido realicen operaciones de E/S de lectura y escritura con replicación sincrónica bidireccional, lo que permite que cada copia de LUN atienda solicitudes de E/S locales.


NOTE: A partir de julio de 2024, el contenido de informes técnicos publicados anteriormente como archivos PDF se ha integrado con la documentación de los productos de ONTAP. La documentación de sincronización activa de SnapMirror de ONTAP ahora incluye contenido de _TR-4878: SnapMirror active sync_.



== Beneficios

SnapMirror Active Sync ofrece las siguientes ventajas:

* Disponibilidad continua para aplicaciones vitales para el negocio.
* Capacidad para alojar aplicaciones críticas alternativamente desde sitios primarios y secundarios.
* Gestión de aplicaciones simplificada utilizando grupos de coherencia para consistencia de escritura dependiente.
* Posibilidad de probar la conmutación al respaldo de cada aplicación.
* Creación instantánea de clones reflejados sin que afecte a la disponibilidad de las aplicaciones.
* La capacidad para poner en marcha cargas de trabajo protegidas y sin protección en el mismo clúster de ONTAP.
* El LUN, el espacio de nombres NVMe, el subsistema NVMe o la identidad de la unidad de almacenamiento siguen siendo los mismos, por lo que la aplicación los ve como un dispositivo virtual compartido.
* La capacidad de reutilizar clústeres secundarios con flexibilidad para crear clones instantáneos para el uso de las aplicaciones con fines de generación de informes, UAT o prueba de desarrollo, sin que el rendimiento ni la disponibilidad de las aplicaciones se vean afectados.


La sincronización activa de SnapMirror le permite proteger sus LUN de datos o espacios de nombres NVMe, lo que permite que las aplicaciones conmuten por error de forma transparente para garantizar la continuidad del negocio en caso de desastre. Para obtener más información, consulte link:use-cases-concept.html["Casos de uso"] .



== Conceptos clave

La sincronización activa de SnapMirror utiliza grupos de consistencia para garantizar que sus datos se repliquen.  La sincronización activa de SnapMirror utiliza ONTAP Mediator o, a partir de ONTAP 9.17.1, Cloud Mediator para conmutación por error automatizada, lo que garantiza que los datos se entreguen en caso de un desastre. Al planificar la implementación de la sincronización activa de SnapMirror , es importante comprender los conceptos esenciales de la sincronización activa de SnapMirror y su arquitectura.

.Asimetría y simetría
En configuraciones simétricas activas/activas, ambos sitios pueden acceder al almacenamiento local para E/S activas. Esta configuración está optimizada para aplicaciones en clúster, como VMware vMSC, Windows Failover Cluster con SQL y Oracle RAC.

En configuraciones activas/activas asimétricas, los datos del sitio secundario se envían a un LUN, un espacio de nombres o una unidad de almacenamiento.

Para obtener más información, consulte xref:architecture-concept.html[Arquitectura de Active Sync de SnapMirror].

.Grupo de consistencia
Para los sistemas AFF y ASA , link:../consistency-groups/index.html["grupo de consistencia"] Es una colección de volúmenes FlexVol que garantiza la consistencia de la carga de trabajo de la aplicación, la cual debe protegerse para la continuidad del negocio. En sistemas ASA r2, un grupo de consistencia es una colección de unidades de almacenamiento.

El propósito de un grupo de consistencia es tomar instantáneas simultáneas de una colección de volúmenes o unidades de almacenamiento, garantizando así copias de la colección consistentes ante fallos en un momento dado. Un grupo de consistencia garantiza que todos los volúmenes de un conjunto de datos se inactiven y luego se instale en el mismo momento. Esto proporciona un punto de restauración consistente con los datos en todos los volúmenes o unidades de almacenamiento que lo soportan. De este modo, un grupo de consistencia mantiene la consistencia del orden de escritura dependiente. Si decide proteger las aplicaciones para la continuidad del negocio, el grupo de volúmenes o unidades de almacenamiento correspondiente a esta aplicación debe agregarse a un grupo de consistencia para establecer una relación de protección de datos entre los grupos de consistencia de origen y destino. Los grupos de consistencia de origen y destino deben contener el mismo número y tipo de volúmenes.

.Componente
Un volumen individual, LUN o espacio de nombres NVMe (a partir de ONTAP 9.17.1) que forma parte del grupo de consistencia protegido en la relación de sincronización activa de SnapMirror .

.Mediador ONTAP
El link:../mediator/index.html["Mediador ONTAP"] Recibe información sobre el estado de los clústeres y nodos de ONTAP emparejados, coordinando la conexión entre ambos y determinando si cada nodo/clúster está en buen estado y en funcionamiento. ONTAP Mediator proporciona información sobre el estado de:

* Clústeres de ONTAP entre iguales
* Nodos del clúster de ONTAP en paridad
* Grupos de consistencia (que definen las unidades de conmutación por error en una relación de sincronización activa de SnapMirror); para cada grupo de consistencia, se proporciona la siguiente información:
+
** Estado de replicación: No inicializado, en sincronización o fuera de sincronización
** Qué clúster aloja la copia principal
** Contexto de operación (utilizado para failover planificado)




Con esta información de estado de ONTAP Mediator, los clusters pueden diferenciar entre distintos tipos de fallos y determinar si se debe realizar una conmutación por error automatizada. ONTAP Mediator es uno de los tres componentes del quórum de sincronización activa de SnapMirror junto con los dos clústeres ONTAP (primario y secundario). Para llegar a un consenso, al menos dos partes en el quórum deben acordar una determinada operación.


NOTE: A partir de ONTAP 9.15.1, System Manager muestra el estado de su relación de sincronización activa de SnapMirror en cualquier clúster. También puede supervisar el estado de los mediadores de ONTAP desde cualquier clúster en System Manager. En versiones anteriores de ONTAP, System Manager muestra el estado de las relaciones de sincronización activa de SnapMirror del clúster de origen.

.Mediador de la nube de ONTAP
ONTAP Cloud Mediator está disponible a partir de ONTAP 9.17.1. ONTAP Cloud Mediator ofrece los mismos servicios que ONTAP Mediator, con la diferencia de que se aloja en la nube mediante BlueXP.

.Conmutación al respaldo planificada
Operación manual para cambiar los roles de las copias en una relación de sincronización activa de SnapMirror. Los sitios primarios se convierten en los secundarios y los secundarios se convierten en los primarios.

.Conmutación automática al respaldo no planificada (AUFO)
Una operación automática para ejecutar una conmutación por error a la copia de mirroring. La operación requiere ayuda del Mediador ONTAP para detectar que la copia primaria no está disponible.

.Sesgo primario-primero y primario
La sincronización activa de SnapMirror emplea un principio primario, que da preferencia a la copia primaria para servir E/S en caso de una partición de red.

El sesgo primario es una implementación de quórum especial que mejora la disponibilidad de un conjunto de datos protegido con SnapMirror con sincronización activa. Si la copia primaria está disponible, se aplica el sesgo primario cuando no se puede acceder al mediador ONTAP desde ambos clusters.

El sesgo primario-primero y primario se admiten en la sincronización activa de SnapMirror a partir de ONTAP 9.15.1. Las copias primarias se designan en System Manager y la salida con la API DE REST y la CLI.

.Fuera de sincronización (OOS)
Cuando las operaciones de I/O de aplicaciones no se replican en el sistema de almacenamiento secundario, se informará como **fuera de sincronización**. Un estado fuera de sincronización significa que los volúmenes secundarios no se sincronizan con el primario (origen) y que no se está produciendo la replicación de SnapMirror.

Si el estado del espejo es `Snapmirrored` , esto indica que se ha establecido una relación SnapMirror y que la transferencia de datos está completa, lo que significa que el volumen de destino está actualizado con el volumen de origen.

La sincronización activa de SnapMirror admite la resincronización automática, lo cual permite que las copias regresen a un estado InSync.

A partir de ONTAP 9.15,1, SnapMirror active sync admite link:interoperability-reference.html#fan-out-configurations["reconfiguración automática en configuraciones ramificadas"].

.Configuración uniforme y no uniforme
* **El acceso uniforme al host** significa que los hosts de ambos sitios están conectados a todas las rutas a los clústeres de almacenamiento en ambos sitios. Las rutas entre sitios se extienden a distancias.
* **El acceso al host no uniforme** significa que los hosts en cada sitio están conectados solo al clúster en el mismo sitio. Las rutas entre sitios y las rutas extendidas no están conectadas.



NOTE: Se admite el acceso uniforme de hosts en cualquier implementación de sincronización activa de SnapMirror; el acceso no uniforme de host solo se admite para implementaciones activo-activo simétricas.

.RPO cero
RPO es la sigla en inglés para el objetivo de punto de recuperación, que es la cantidad de pérdida de datos que se considera aceptable durante un período de tiempo dado. El RPO de cero significa que no es aceptable ninguna pérdida de datos.

.RTO CERO
El objetivo de tiempo de recuperación es el objetivo de tiempo de recuperación, que es la cantidad de tiempo que se considera aceptable para que una aplicación regrese a las operaciones normales sin interrupciones después de una interrupción, un fallo u otro evento de pérdida de datos. El objetivo de tiempo de recuperación cero significa que no se acepta ningún tiempo de inactividad.



== Compatibilidad con la configuración de sincronización activa de SnapMirror según la versión de ONTAP

La compatibilidad con la sincronización activa de SnapMirror varía según la versión de ONTAP:

[cols="4*"]
|===


| Versión de ONTAP | Clústeres compatibles | Protocolos compatibles | Configuraciones admitidas 


| 9.17.1 y posteriores  a| 
* AFF
* ASA
* C-Series
* ASA r2

 a| 
* iSCSI
* FC
* NVMe para cargas de trabajo de VMware

 a| 
* Asimétrico activo/activo



NOTE: El modo activo/activo asimétrico no admite ASA r2 ni NVMe. Para obtener más información sobre la compatibilidad con NVMe, consulte link:../nvme/support-limitations.html["Configuración, compatibilidad y limitaciones de NVMe"] .

* Activo-activo simétrico




| 9.16.1 y posterior  a| 
* AFF
* ASA
* C-Series
* ASA r2

 a| 
* iSCSI
* FC

 a| 
* Asimétrico activo/activo
* Las configuraciones simétricas activo/activo admiten clústeres de 4 nodos en ONTAP 9.16.1 y versiones posteriores.  Para ASA r2, solo se admiten clústeres de 2 nodos.




| 9.15.1 y posteriores  a| 
* AFF
* ASA
* C-Series

 a| 
* iSCSI
* FC

 a| 
* Asimétrico activo/activo
* Las configuraciones simétricas activo/activo admiten clústeres de 2 nodos en ONTAP 9.15.1. Los clústeres de 4 nodos son compatibles con ONTAP 9.16.1 y versiones posteriores.




| 9.9.1 y posterior  a| 
* AFF
* ASA
* C-Series

 a| 
* iSCSI
* FC

 a| 
Asimétrico activo/activo

|===
Los clústeres primarios y secundarios deben ser del mismo tipo: link:../san-admin/learn-about-asa.html["ASA"] , link:https://docs.netapp.com/us-en/asa-r2/get-started/learn-about.html["ASA r2"^] , o AFF.
